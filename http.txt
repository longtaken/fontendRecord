http权威指南

第1章
1.1 http 因特网的多媒体信使
    http使用的是可靠的数据传输协议，即使数据来自地球的另一端，它也能够确保数据在传输的过程中不会被损坏或产生混乱。
    
1.2 web客户端和服务端
    web内容都是存储在web服务器上的。web服务器所使用的是http协议，因此会被称为http服务器。
    服务器存储了因特网中的数据，客户端向服务器发送http请求，服务器会在http响应中会送所请求的数据，http客户端和http服务器共同构成了万维网的基本组件。
    浏览一个页面，浏览器会向服务器发送一条http请求。服务器会去寻找所期望的对象，如果成功，就将对象、对象类型、对象长度以及一些信息放在http响应中发送给客户端
    
1.3 资源
    web服务器是web资源的宿主，web资源是web内容的源头。
    
1.3.1 媒体类型
    web服务器会为所有http对象数据附加一个MIME类型。web浏览器从服务器中取回一个对象时，会去查看相关的MIME类型，然后做出对应的处理
    HMTL格式的文本文档由text/html类型标记
    普通的ASCII文本文档由text/plain类型标记
    JPEG（GIF）格式的图片由image/jpeg（git）类型
    Apple的QuickTime电影为video/quicktime 类型
    
1.3.2 URI
    每个web服务器资源都有一个名字，服务器资源名被称为统一资源标识符（URI）
    
1.3.3 URL
    统一资源定位符（URL）是资源标识符最常见的形式，URL描述了一台特定服务器上某资源的特定位置。它们可以明确说明如何从一个精确、固定的位置获取资源
        URL的第一部分被称为方案（scheme），说明了访问资源所使用的协议类型。这部分通常是http协议（http://）
        第二部分给出了服务器的因特网地址（www.xxx.com）
        其余部分指定了web服务器上某个资源（/x/x.gif）
        现在几乎所有的URI都是URL
        
1.3.4 URN
    URI的第二种形式就是统一资源名(URN)。URN是作为特定内容的唯一名称使用的，与目前的资源所在地无关。使用这些与位置无关的URN，可以将资源四处搬移。通过URN，可以用同一个名字通过多种网络访问协议来访问资源
    比如，不论因特网标准文档RFC 2141位于何处都可以用URN urn:ietf:rfc:2141 来命名。还在试验阶段，未大范围使用
    
1.4 事务 
    一个http事务由一条（从客户端发往服务端的）请求命令和一个（从服务端发回客户端的）响应结果组成。这种通信是通过名为http报文（http message）的格式化数据块进行的。
    
1.4.1 方法   
    http支持几种不同的请求命令，这些命令被称为http方法（http method）。每条http请求报文都包含一个方法。这个方法告诉服务器要执行什么动作（获取web页面、运行网关程序、删除文件等）
        GET 从服务器向客户端发送命名资源
        PUT 将来自客户端的数据存储到一个命名的服务器资源中去
        DELETE 从服务器中删除命名资源
        POST 将客户端数据发送到一个服务器网关应用程序
        HEAD 仅发送命名资源响应中的http首部
        
1.4.2 状态码
    每条http响应报文返回时都会携带一个状态码。状态码是一个三位数字的代码，告知客户端请求是否成功，或者是否采取其他动作。
        200 ok。文档正确返回
        302 redirect（重定向）。到其他地方获取资源
        
1.4.3 web页面可以包含多个对象
    应用程序完成一项任务时通常会发布多个http事务。
    比如，web浏览器会发布一系列http事务来获取并显示一个包含了图片的web页面。浏览器会执行一个事务来获取描述页面布局的html框架，然后发布另外的http事务来获取每个嵌入式图片、图像面板、java小程序等。这些嵌入式资源可以位于不同的服务器上。
    
1.5 报文   
    http报文是由一行一行的简单字符串组成的。http报文都是纯文本，不是二进制代码。简单事务使用的http报文
        请求报文
          GET /xx/xx.txt http/1.0 (起始行)
          Accept: text/* (首部)
          Accept-Luanguage: en,fr
        响应报文
          HTTP/1.0 200 OK (起始行)
          Content-type:text/plain (首部)
          Content-length: 19
          HI,test message （主体）
    http报文只有请求报文跟响应报文，http报文包括下面三个部分
        起始行
          报文的第一行就是起始行，在请求报文中用来说明要做些什么，在响应报文中说明出现了什么情况
        首部字段
          起始行后面有零个或多个首部字母。每个首部字段都包含一个名字和一个值，为了便于解析，两者之间用冒号（：）分隔。首部以一个空行结束。添加一个首部字段跟添加新行一样简单
        主体
        空行之后就是可选的报文主体了，其中包含了所有类型的数据。请求主体中包括了要发送给web服务器的数据；响应主体中装载了要返回给客户端的数据。起始行和首部都是文本形式且都是结构化的。 主体中可以包含任意的二进制数据（图片、视频、文本等）
        
          
        

    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
